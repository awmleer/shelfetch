<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shelfetch</title>

    <!-- 新 Bootstrap 核心 CSS 文件 -->
    <link href="http://apps.bdimg.com/libs/bootstrap/3.3.0/css/bootstrap.min.css" rel="stylesheet">
    <!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
    <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
    <script src="http://apps.bdimg.com/libs/jquery/2.0.0/jquery.min.js"></script>
    <!--<script src="js/jquery.min.js"></script>-->
    <!--最新的 Bootstrap 核心 JavaScript 文件 -->
    <link href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="js/ssh.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/search.js"></script>

    <!-- 加载waiting特效css -->
    <link rel="stylesheet" type="text/css" href="css/spinner.css">

    <script>
        function g(id) {
            return document.getElementById(id);
        }

        $(document).ready(function () {
//          调整页面布局
            if ($(window).height() < $(window).width()) {
                $(".container").css("width", "500px");
                $(".container").css("margin", "0 auto");
            }
            var windowheight = $(window).height();
            $("#div-waiting").css("margin-top", windowheight * 0.3 + "px");

        });
    </script>

    <style>
        .bookname {
            background-color: #eeeeee;
        }

        .container {
            margin-top: 1em;
        }

        .tablebook {
            margin-bottom: 1em;
            border: solid 1px #DDDDDD;
        }

    </style>
</head>
<body ng-app="search"  ng-controller="ctrlsearch" >

<div id="div-waiting" style="display: block;" class="center-block">
    <div class="spinner">
        <div class="rect1"></div>
        <div class="rect2"></div>
        <div class="rect3"></div>
        <div class="rect4"></div>
        <div class="rect5"></div>
    </div>
    <p class="text-center">正在加载中，请稍等</p>
</div>

<div id="div-noresult" style="display: none;margin-top: 10em">
    <h2 class="text-center">抱歉，没有找到<br>您搜索的图书<br><br></h2>
    <button onclick="history.go(-1)" class="btn btn-primary center-block">返回首页重新搜索</button>
</div>


<div class="container" style="display: none;">
    <button onclick="location.href='index.html'" class="btn btn-default" style="float: right;">返回</button>

    <div style="margin: 1em auto;">
        <span id="page" class="label label-primary">第{{ page }}页/共{{ total }}页</span>
        <span id="keyword" class="label label-primary">搜索词：{{ keyword }}</span>
    </div>

    <div class="alert alert-warning">注：目前查看架位的功能仅支持紫金港基础流通书库</div>

    <div class='panel panel-info' ng-repeat="book in books">
        <div class='panel-heading'>
            <h3 class='panel-title'>{{ book.name }}</h3>
        </div>
        <div class='panel-body'>
            <p>索书号：{{ book.ssh }}<br>作者：{{ book.author }}<br>年份：{{ book.year }}<br>出版社：{{ book.press }}</p>
            <table width='100%' class='table table-condensed'>
                <colgroup>
                    <col width='46%'>
                    <col width='27%'>
                    <col width='27%'>
                </colgroup>
                <thead>
                <tr>
                    <th>馆藏位置</th>
                    <th>册数/借出</th>
                    <th>查看架位</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="i in book.item">
                    <td class='c'>{{ i.fg }}</td>
                    <td>{{ i.total }}/{{ i.borrowed }}</td>
                    <td>
                        <button ng-click="locate()" class='btn btn-primary'>查看</button>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="center-block" id="bottom" style="margin-bottom: 2em">
        <ul style="display: block;"  class="pagination">
            <li id="page1"><a href="#">1</a></li>
            <li id="page2"><a href="#">2</a></li>
            <li id="page3"><a href="#">3</a></li>
            <li id="page4"><a href="#">4</a></li>
            <li id="page5"><a href="#">5</a></li>
        </ul>
    </div>

</div>

<!--footer-->
<p class="text-center" style="margin-top: 2em;color: #8c8c8c;">sparker团队&nbsp;&nbsp;
    <!--CNZZ站长统计-->
    <script type="text/javascript">
        var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");
        document.write(unescape("%3Cspan id='cnzz_stat_icon_1256977739'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s11.cnzz.com/z_stat.php%3Fid%3D1256977739' type='text/javascript'%3E%3C/script%3E"));
    </script>
</p>

<script>
    String.prototype.replaceA = function (s1, s2) {
        return this.replace(new RegExp(s1, "gm"), s2);
    };
</script>

</body>
</html>